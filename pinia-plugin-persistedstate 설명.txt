pinia-plugin-persistedstate ì„¤ëª…

 Pinia ìƒíƒœë¥¼ ë¸Œë¼ìš°ì €ì˜ localStorage ë˜ëŠ” sessionStorageì— ìë™ìœ¼ë¡œ ì €ì¥í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤. 
ì¦‰, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ë„ ìƒíƒœê°€ ìœ ì§€ë˜ë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

âœ… ì™œ í•„ìš”í•œê°€ìš”?

Piniaì˜ ìƒíƒœëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.
â†’ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ìƒíƒœëŠ” ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
â†’ ë¡œê·¸ì¸ ì •ë³´, ì‚¬ìš©ì ì„¤ì • ë“±ì„ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ ë¶ˆí¸í•¨ì´ ë°œìƒí•©ë‹ˆë‹¤.

ì´ë•Œ pinia-plugin-persistedstateë¥¼ ì‚¬ìš©í•˜ë©´
ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ì €ì¥í•˜ê³  ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ”§ ì„¤ì¹˜ ë°©ë²•
npm install pinia-plugin-persistedstate

âš™ï¸ ì„¤ì • ë°©ë²•
// main.ts
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'

const app = createApp(App)

const pinia = createPinia()
pinia.use(piniaPluginPersistedstate)
app.use(pinia)
app.mount('#app')

ğŸ—‚ï¸ storeì—ì„œ ì‚¬ìš©í•˜ê¸°
// stores/user.ts
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  state: () => ({
    name: '',
    isLoggedIn: false
  }),
  persist: true  // ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ localStorageì— ì €ì¥
})

âš™ï¸ ì˜µì…˜ ì‚¬ìš©
persist: {
  enabled: true,         // ê¸°ë³¸ê°’ true
  strategies: [
    {
      key: 'user',       // ì €ì¥ í‚¤ (ê¸°ë³¸: store ID)
      storage: sessionStorage, // localStorage ë˜ëŠ” sessionStorage ì„ íƒ
      paths: ['name']    // ì €ì¥í•  state ì†ì„±ë§Œ ì§€ì • ê°€ëŠ¥
    }
  ]
}

ğŸ“ ì˜ˆì‹œ
persist: {
  strategies: [
    {
      key: 'my-app-user',
      storage: localStorage,
      paths: ['name', 'isLoggedIn']
    }
  ]
}

ğŸ“Œ ìš”ì•½
ê¸°ëŠ¥	ì„¤ëª…
ìë™ ì €ì¥	ìƒíƒœë¥¼ ë¡œì»¬ ë˜ëŠ” ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
ìë™ ë³µì›	ì•±ì´ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©´ ìƒíƒœë¥¼ ë³µì›
ì„¸ë¶€ ì„¤ì • ê°€ëŠ¥	ì–´ë–¤ ìƒíƒœë¥¼ ì €ì¥í• ì§€ ì„ íƒ ê°€ëŠ¥
ìƒˆë¡œê³ ì¹¨ ìœ ì§€	ë¡œê·¸ì¸ ìƒíƒœ ë“± ì§€ì† ê°€ëŠ¥

